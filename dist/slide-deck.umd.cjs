(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.SlideDeck={},r.Vue))})(this,function(r,e){"use strict";const d={props:{node:Object},beforeDestroy(){delete this.node.el},mounted(){this.node&&this.node.el&&this.node.el.dispatchEvent(new Event("enter"))},render(){return e.h("div",{class:"slide-deck-slide"},[this.node])}},f={props:{active:{type:Number,default:0},slots:{type:Array,required:!0}},computed:{context(){return this}},methods:{isActive(t,i){return t.key===this.active||i===this.active},onClick(t,i){this.$emit("click",t,i)}}},S="",h=(t,i)=>{const o=t.__vccOpts||t;for(const[l,s]of i)o[l]=s;return o},u={class:"slide-deck-controls"};function m(t,i,o,l,s,n){return e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("a",{href:"#",class:e.normalizeClass(["slide-deck-control-icon",{"is-active":n.isActive(t.slide,o.active)}]),onClick:i[0]||(i[0]=e.withModifiers(c=>n.onClick(c,t.slide),["prevent"]))},[e.renderSlot(t.$slots,"default",e.normalizeProps(e.guardReactiveProps(Object.assign({slide:t.slide,active:o.active},n.context))),()=>[e.createTextVNode("\u2022")])],2)])}const a=h(f,[["render",m]]),k={components:{Slide:d,SlideDeckControls:a},props:{attrs:Object,active:{type:Number,default:0},autoResize:{type:Boolean,default:!0},controls:Boolean,props:Object},data(){return{currentActive:this.active,direction:"forward",maxHeight:void 0,mounted:!1,lastSlide:null,sliding:!1}},watch:{currentActive(t,i){this.lastSlide=i,this.direction=this.findIndex(i)>this.findIndex(t)?"backward":"forward"}},mounted(){this.$nextTick(()=>{this.mounted=!0,this.$emit("enter",this.slot())})},methods:{findIndex(t){return this.slots().findIndex((i,o)=>i.key===t||o===t)},find(t){return this.slots()[this.findIndex(t)]},first(){this.goto(0)},last(){this.goto(this.slots().length-1)},goto(t){this.sliding||(this.currentActive=Math.max(0,t))},next(){this.sliding||(this.currentActive=Math.min(this.findIndex(this.currentActive)+1,this.slots().length-1))},prev(){this.sliding||(this.currentActive=Math.max(this.findIndex(this.currentActive)-1,0))},resize(t){const i=getComputedStyle(t).height;this.maxHeight=i==="0x"?this.maxHeight:i},slot(){return this.find(this.currentActive)},slots(){return(this.$slots.default(this)||this.$scopedSlots.default(this)).map((t,i)=>(t.props=Object.assign({},t.props,this.props,this.attrs),Object.assign(t,{key:i})))},onClickControl(t,i){this.sliding||this.goto(i)},onBeforeLeave(t){this.autoResize&&this.resize(t),this.$emit("before-leave",this.slot(),this.find(this.lastSlide))},onBeforeEnter(t){this.sliding=!0,this.$emit("before-enter",this.slot(),this.find(this.lastSlide))},onEnter(t){this.$nextTick(()=>{this.autoResize&&this.resize(t),this.$emit("enter",this.slot(),this.find(this.lastSlide))})},onAfterEnter(t){this.$emit("after-enter",this.slot(),this.find(this.lastSlide))},onLeave(t){this.$emit("leave",this.slot(),this.find(this.lastSlide))},onAfterLeave(t){this.sliding=!1,this.$nextTick(()=>{this.maxHeight=null,this.$emit("after-leave",this.slot(),this.find(this.lastSlide))})}}},A="";function p(t,i,o,l,s,n){const c=e.resolveComponent("slide"),g=e.resolveComponent("slide-deck-controls");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["slide-deck",{sliding:s.sliding}])},[e.renderSlot(t.$slots,"top",{active:s.currentActive}),e.createElementVNode("div",{ref:"content",class:e.normalizeClass(["slide-deck-content",{[s.direction]:!0}]),style:e.normalizeStyle({maxHeight:s.maxHeight})},[e.createVNode(e.Transition,{name:`slide-${s.direction}`,onBeforeEnter:n.onBeforeEnter,onEnter:n.onEnter,onAfterEnter:n.onAfterEnter,onBeforeLeave:n.onBeforeLeave,onLeave:n.onLeave,onAfterLeave:n.onAfterLeave},{default:e.withCtx(()=>[(e.openBlock(),e.createBlock(e.KeepAlive,null,[(e.openBlock(),e.createBlock(c,{ref:"slide",key:s.currentActive,node:n.find(s.currentActive)},null,8,["node"]))],1024))]),_:1},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],6),e.renderSlot(t.$slots,"middle",{active:s.currentActive}),e.renderSlot(t.$slots,"controls",{active:s.currentActive},()=>[o.controls&&s.mounted?(e.openBlock(),e.createBlock(g,{key:0,ref:"controls",slots:n.slots(),active:s.currentActive,onClick:n.onClickControl},{default:e.withCtx(_=>[e.renderSlot(t.$slots,"bullet",e.normalizeProps(e.guardReactiveProps(_)))]),_:3},8,["slots","active","onClick"])):e.createCommentVNode("",!0)]),e.renderSlot(t.$slots,"bottom",{active:s.currentActive})],2)}const v=h(k,[["render",p]]);r.Slide=d,r.SlideDeck=v,r.SlideDeckControls=a,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
