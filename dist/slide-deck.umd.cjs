(function(r,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(r=typeof globalThis<"u"?globalThis:r||self,t(r.SlideDeck={},r.Vue))})(this,function(r,t){"use strict";const c={props:{node:{type:Object,required:!0}},beforeUnmount(){delete this.node.el},mounted(){this.node&&this.node.el&&this.node.el.dispatchEvent(new Event("enter"))},render(){return t.h("div",{class:"slide-deck-slide"},[this.node])}},f={props:{active:{type:Number,default:0},slots:{type:Array,required:!0}},computed:{context(){return this}},methods:{isActive(e,i){return e.key===this.active||i===this.active},onClick(e,i){this.$emit("click",e,i)}}},k="",h=(e,i)=>{const o=e.__vccOpts||e;for(const[l,s]of i)o[l]=s;return o},u={class:"slide-deck-controls"};function m(e,i,o,l,s,n){return t.openBlock(),t.createElementBlock("div",u,[t.createElementVNode("a",{href:"#",class:t.normalizeClass(["slide-deck-control-icon",{"is-active":n.isActive(e.slide,o.active)}]),onClick:i[0]||(i[0]=t.withModifiers(d=>n.onClick(d,e.slide),["prevent"]))},[t.renderSlot(e.$slots,"default",t.normalizeProps(t.guardReactiveProps(Object.assign({slide:e.slide,active:o.active},n.context))),()=>[t.createTextVNode("\u2022")])],2)])}const a=h(f,[["render",m]]),p={components:{Slide:c,SlideDeckControls:a},props:{attrs:{type:Object,default:()=>({})},active:{type:Number,default:0},autoResize:{type:Boolean,default:!0},controls:Boolean,props:Object},data(){return{currentActive:this.active,direction:"forward",maxHeight:void 0,mounted:!1,lastSlide:null,sliding:!1}},watch:{currentActive(e,i){this.lastSlide=i,this.direction=this.findIndex(i)>this.findIndex(e)?"backward":"forward"}},mounted(){this.$nextTick(()=>{this.mounted=!0,this.$emit("enter",this.slot())})},methods:{findIndex(e){return this.slots().findIndex((i,o)=>i.key===e||o===e)},find(e){return this.slots()[this.findIndex(e)]},first(){this.goto(0)},last(){this.goto(this.slots().length-1)},goto(e){this.sliding||(this.currentActive=Math.max(0,e))},next(){this.sliding||(this.currentActive=Math.min(this.findIndex(this.currentActive)+1,this.slots().length-1))},prev(){this.sliding||(this.currentActive=Math.max(this.findIndex(this.currentActive)-1,0))},resize(e){const i=getComputedStyle(e).height;this.maxHeight=i==="0x"?this.maxHeight:i},slot(){return this.find(this.currentActive)},slots(){return(this.$slots.default(this)||this.$slots.default(this)).map((e,i)=>(e.props=Object.assign({},e.props,this.props,this.attrs),Object.assign(e,{key:i})))},onClickControl(e,i){this.sliding||this.goto(i)},onBeforeLeave(e){this.autoResize&&this.resize(e),this.$emit("before-leave",this.slot(),this.find(this.lastSlide))},onBeforeEnter(e){this.sliding=!0,this.$emit("before-enter",this.slot(),this.find(this.lastSlide))},onEnter(e){this.$nextTick(()=>{this.autoResize&&this.resize(e),this.$emit("enter",this.slot(),this.find(this.lastSlide))})},onAfterEnter(e){this.$emit("after-enter",this.slot(),this.find(this.lastSlide))},onLeave(e){this.$emit("leave",this.slot(),this.find(this.lastSlide))},onAfterLeave(e){this.sliding=!1,this.$nextTick(()=>{this.maxHeight=null,this.$emit("after-leave",this.slot(),this.find(this.lastSlide))})}}},_="";function v(e,i,o,l,s,n){const d=t.resolveComponent("slide");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["slide-deck",{sliding:s.sliding}])},[t.renderSlot(e.$slots,"top",{active:s.currentActive}),t.createElementVNode("div",{ref:"content",class:t.normalizeClass(["slide-deck-content",{[s.direction]:!0}]),style:t.normalizeStyle({maxHeight:s.maxHeight})},[t.createVNode(t.Transition,{name:`slide-${s.direction}`,onBeforeEnter:n.onBeforeEnter,onEnter:n.onEnter,onAfterEnter:n.onAfterEnter,onBeforeLeave:n.onBeforeLeave,onLeave:n.onLeave,onAfterLeave:n.onAfterLeave},{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.KeepAlive,null,[(t.openBlock(),t.createBlock(d,{ref:"slide",key:s.currentActive,node:n.find(s.currentActive)},null,8,["node"]))],1024))]),_:1},8,["name","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],6),t.renderSlot(e.$slots,"middle",{active:s.currentActive}),t.renderSlot(e.$slots,"bottom",{active:s.currentActive})],2)}const g=h(p,[["render",v]]);r.Slide=c,r.SlideDeck=g,r.SlideDeckControls=a,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
