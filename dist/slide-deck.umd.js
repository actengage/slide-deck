(function(r,c){typeof exports=="object"&&typeof module!="undefined"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(r=typeof globalThis!="undefined"?globalThis:r||self,c(r.SlideDeck={}))})(this,function(r){"use strict";function c(t,e,l,n,s,d,p,M){var i=typeof t=="function"?t.options:t;e&&(i.render=e,i.staticRenderFns=l,i._compiled=!0),n&&(i.functional=!0),d&&(i._scopeId="data-v-"+d);var a;if(p?(a=function(o){o=o||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!o&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(o=__VUE_SSR_CONTEXT__),s&&s.call(this,o),o&&o._registeredComponents&&o._registeredComponents.add(p)},i._ssrRegister=a):s&&(a=M?function(){s.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:s),a)if(i.functional){i._injectStyles=a;var w=i.render;i.render=function(B,k){return a.call(k),w(B,k)}}else{var m=i.beforeCreate;i.beforeCreate=m?[].concat(m,a):[a]}return{exports:t,options:i}}const g={name:"Slide",props:{node:Object},mounted(){this.node.elm.dispatchEvent(new Event("enter"))},render(t){return t("div",{staticClass:"slide-deck-slide"},[this.node])}};let S,$;const u={};var y=c(g,S,$,!1,b,null,null,null);function b(t){for(let e in u)this[e]=u[e]}var h=function(){return y.exports}(),C=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"slide-deck-controls"},t._l(t.slots,function(n,s){return l("a",{key:s,staticClass:"slide-deck-control-icon",class:{"is-active":t.isActive(n,s)},attrs:{href:"#"},on:{click:function(d){return d.preventDefault(),t.onClick(d,n)}}},[t._t("default",function(){return[t._v("\u2022")]},null,Object.assign({slide:n,index:s},t.context))],2)}),0)},A=[],H="";const x={props:{active:{type:[String,Number],default:0},slots:{type:Array,required:!0}},computed:{context(){return this}},methods:{key(t){return t.data?t.data.key:t.key},isActive(t,e){return this.key(t)===this.active||e===this.active},onClick(t,e){this.$emit("click",t,e)}}},f={};var j=c(x,C,A,!1,E,null,null,null);function E(t){for(let e in f)this[e]=f[e]}var _=function(){return j.exports}(),O=function(){var t,e=this,l=e.$createElement,n=e._self._c||l;return n("div",{staticClass:"slide-deck",class:{sliding:e.sliding}},[e._t("top",null,{active:e.currentActive},this),n("div",{ref:"content",staticClass:"slide-deck-content",class:(t={},t[e.direction]=!0,t),style:{maxHeight:e.maxHeight}},[n("transition",{attrs:{name:"slide-"+e.direction},on:{"before-enter":e.onBeforeEnter,enter:e.onEnter,"after-enter":e.onAfterEnter,"before-leave":e.onBeforeLeave,leave:e.onLeave,"after-leave":e.onAfterLeave}},[n("keep-alive",[n("slide",{key:e.currentActive,attrs:{node:e.find(e.currentActive)}})],1)],1)],1),e._t("middle",null,{active:e.currentActive},this),e._t("controls",function(){return[e.controls&&e.mounted?n("slide-deck-controls",e._b({ref:"controls",attrs:{slots:e.slots(),active:e.currentActive},on:{click:e.onClickControl},scopedSlots:e._u([{key:"default",fn:function(s){return[e._t("bullet",null,null,s)]}}],null,!0)},"slide-deck-controls",this,!1)):e._e()]},{active:e.currentActive},this),e._t("bottom",null,{active:e.currentActive},this)],2)},R=[],L="";const D={name:"SlideDeck",components:{Slide:h,SlideDeckControls:_},props:{attrs:Object,active:{type:[String,Number],default:0},autoResize:{type:Boolean,default:!0},controls:Boolean,props:Object},data(){return{currentActive:this.active,direction:"forward",maxHeight:null,mounted:!1,lastSlide:null,sliding:!1}},watch:{currentActive(t,e){this.lastSlide=e,this.direction=this.findIndex(e)>this.findIndex(t)?"backward":"forward"}},mounted(){this.$nextTick(()=>{this.mounted=!0,this.$emit("enter",this.slot())})},methods:{findIndex(t){return this.slots().findIndex((e,l)=>this.key(e)===t||l===t)},find(t){return this.slots()[this.findIndex(t)]},key(t){return t.data&&t.data.key||t.key},goto(t){this.sliding||(this.currentActive=this.findIndex(this.key(t)))},next(){this.sliding||(this.currentActive=Math.min(this.findIndex(this.currentActive)+1,this.slots().length-1))},prev(){this.sliding||(this.currentActive=Math.max(this.findIndex(this.currentActive)-1,0))},resize(t){const e=getComputedStyle(t).height;this.maxHeight=e==="0x"?this.maxHeight:e},slot(){return this.find(this.currentActive)},slots(){return(this.$slots.default||this.$scopedSlots.default(this)).filter(t=>!!t.tag).map((t,e)=>(Object.assign(t.componentOptions.propsData,this.props),Object.assign(t.data.attrs,this.attrs),Object.assign(t,{key:e})))},onClickControl(t,e){this.sliding||this.goto(e)},onBeforeLeave(t){this.autoResize&&this.resize(t),this.$emit("before-leave",this.slot(),this.find(this.lastSlide))},onBeforeEnter(t){this.sliding=!0,this.$emit("before-enter",this.slot(),this.find(this.lastSlide))},onEnter(t){this.$nextTick(()=>{this.autoResize&&this.resize(t),this.$emit("enter",this.slot(),this.find(this.lastSlide))})},onAfterEnter(t){this.$emit("after-enter",this.slot(),this.find(this.lastSlide))},onLeave(t){this.$emit("leave",this.slot(),this.find(this.lastSlide))},onAfterLeave(t){this.sliding=!1,this.$nextTick(()=>{this.maxHeight=null,this.$emit("before-leave",this.slot(),this.find(this.lastSlide))})}}},v={};var T=c(D,O,R,!1,I,null,null,null);function I(t){for(let e in v)this[e]=v[e]}var z=function(){return T.exports}();r.Slide=h,r.SlideDeck=z,r.SlideDeckControls=_,Object.defineProperty(r,"__esModule",{value:!0}),r[Symbol.toStringTag]="Module"});
